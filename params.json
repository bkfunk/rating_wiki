{"name":"Rating Wikipedia","tagline":"Analysis of Wikipedia ratings data","body":"[&laquo; Brian Karfunkel home](http://bkfunk.github.io)\r\n\r\nRating Wikipedia\r\n================\r\n\r\n__Overview__\r\n------------\r\n\r\nWhat makes a good Wikipedia page?\r\n\r\nUsing data on ratings for Wikipedia pages, I try to explore that question.\r\n\r\n### About the data\r\nWikimedia provides a one-year dump of all ratings on Wikipedia, from July 22, 2011 up to July 22, 2012. This file contains almost 50 million records of almost 12 million unique ratings (NB: there are 4 dimensions for each rating, so one person rating an article will provide up to 4 data points).\r\n\r\nThe file (approx 441.6 MB gzipped) is hosted here:\r\nhttp://datahub.io/dataset/wikipedia-article-ratings/resource/8a218330-6ac3-40d1-ae0d-4224f57db214\r\n\r\nThere are 4 dimensions on which a page could be rated:\r\n\r\n1. Trustworthy (`trust` in my cleaned dataset)\r\n2. Objective (`obj`)\r\n3. Complete (`comp`)\r\n4. Well-written (`writ`)\r\n\r\nA user could rate _any_ or _all_ dimensions for each page. In the data provided, in addition to the values for each rating dimension, we have:\r\n\r\n- Timestamp when the rating was submitted\r\n- `page_id` and page title, identifying the page being rated\r\n- `rev_id` identifying the particular version (i.e. \"revision\") of the page that was rated\r\n- An indicator variable (`1` or `0`) indicating whether the user rating the page was logged in (the actual user's identity is anonymized out of the data)\r\n\r\nGiven the anonymized data, it is impossible to know whether users were able to rate a page more than once, but given the fact that most of the ratings come from non-logged-in users, it is certainly possible.\r\n\r\n### Motivating questions\r\n\r\nMy goal for this analysis was to first analyze the ratings data itself to see whether the ratings seemed to provide a useful measure of page quality. Then, I wanted to combine the ratings data with data on the actual page versions rated to look at how different kinds of edits affect the page's rating. Namely, is there a way to quantify which edits do the most to improve a page in any or all of the four rating dimensions? For example, are big edits (based on number of characters edited) better than small edits? Do small edits improve score for quality of writing (`writ`), while big edits improve completeness (`comp`)? Are logged-in users better editors than anonymous users?\r\n\r\nIf there were a way to identify particularly helpful edits in terms of improving article quality, then Wikipedia could:\r\n\r\n- **Give feedback** to editors to help them learn to make the most effective edits, and give editors a sense of quantified accomplishment to keep them engaged\r\n- **Highlight pages** in particular need of quality improvements for editors that are particularly good at providing such improvements (for example, prioritizing articles that are poorly written for editors that are good at revising prose and copyediting)\r\n- Create more bots to make certain **algorithmic edits**\r\n- **Identify editors** that are malicious or that consistently degrade page quality\r\n\r\n**Cleaning Data**\r\n-----------------\r\nThe first step was cleaning the ratings data. The iPython Notebook showing all the cleaning code and output is [here][cleaning notebook]. In addition to reshaping the data so that each rating has one observation, rather than four, I cut the data to a sample of some 79,000 ratings for 10,000 different pages.\r\n\r\n**Exploring Data**\r\n------------------\r\nMy exploratory analysis is documented [here][exploring notebook]. I start by looking at the ratings themselves.\r\n\r\n#### 1. **How is the number of ratings distributed across pages and versions (revisions) of pages?**\r\n  \r\nIn order for ratings to be any kind of measure of page quality, people have to actually rate pages. How many ratings to pages get in the year-long sample? And do some pages get significantly more than others?\r\n\r\nAs with a lot of data dealing with popularity (e.g. population of cities), the data appear to follow [Zipf's law](https://en.wikipedia.org/wiki/Zipf's_law) insofar as a small number of pages get a huge number of ratings, but the number of ratings quickly drops off, ending with a long right tail. Here is a chart illustrating the distribution:\r\n\r\n> ###### _Figure 1_\r\n\r\n> ![Chart of distribution of ratings per page (in sample)][ratings per page chart]\r\n\r\nThe average page in the sample has **7.85 ratings** in the year-long period (standard deviation of 42.1), though of course the sample is of pages with at least one rating in that period. The most-rated page in my sample is \"The Hunger Games\" with 2,713 ratings. The average page has **3.66 different versions** in the sample, with each version being rated an average of **1.63 times**.\r\n\r\n#### 2. **How is the value of ratings distributed across pages and versions?**\r\n\r\nMost ratings tend to be high on the 1-5 scale.\r\n    \r\n> ###### _Figure 2_\r\n\r\n> ![Chart of distribution of rating values][rating values chart]\r\n\r\n> The above chart shows the distribution of average rating value for each observation. The first plot is the distribution of `rating_all_mean`, which is the mean of the 4 rating dimensions _when all 4 dimensions are rated_ (and NA otherwise), while the second plot is the distribution of `rating_any_mean`, which is the mean of all rating dimensions _that are present_ (whether there is only 1 dimension rated, or 4, etc.). Note that, for both of these histograms (and all similar histograms below), each bin does **not** include the right-most boundary **_except_** the last, which includes ratings with means from 4.5 to 5, _inclusive_. The third plot shows the proportions of each rating observation that have 1, 2, 3, or 4 dimensions rated.\r\n  \r\n__Over 40% of observations have ratings that average 4.5 or greater on a scale of 5__. Furthermore, __almost 70% of users rated all 4 dimensions__, while about 25% rated only one dimension, and very few rated 2 or 3. When all four dimensions are rated, the **mean rating is 3.66**, with a **standard deviation of 1.34**, and the **median is 4.0**.\r\n  \r\nGiven the rest of the distribution, there is a larger-than-expected frequency of low ratings (namely, `1`s). This bimodality, where there is a peak in the ratings distribution around `[4.5, 5]` and then around `[1, 1.5)`, is relatively consistent across rating dimensions.\r\n  \r\n> ###### _Figure 3_\r\n\r\n> ![Chart of distribution of each rating dimension][rating dimension values chart]\r\n\r\nWhile the rightmost peak (at rating value of 5) is lower for \"Complete\", __all 4 dimensions have another peak at a rating value of 1__.\r\n  \r\nThus, it appears that raters __tend to rate pages at the extremes__, either very high or very low. This is true regardless of whether the user rates only 1 dimension or all 4 (see the [complete exploration][exploring notebook] for charts illustrating this).\r\n  \r\n#### 3. **Are rating dimensions meaningful?**\r\n    \r\nIs it worth asking users to rate 4 dimensions instead of simply giving each page a 1-5 rating? **Each dimension is highly correlated with each other dimension**, indicating that a user who gives a high rating to \"Complete\", for example, is very likely to give a high rating to \"Well-written\". Here is a table of Pearson correlations between each dimension:\r\n\r\n> ###### _Table 1_\r\n\r\n> | Correlation by Dimension  | Complete     | Objective    | Trustworthy  | Well-written |\r\n|-----------------------------|--------------|--------------|--------------|--------------|\r\n| Complete                    | 1.000000     | 0.715450     | 0.749500     | 0.764108     |\r\n| Objective                   | **0.715450** | 1.000000     | 0.774930     | 0.738221     |\r\n| Trustworthy                 | **0.749500** | **0.774930** | 1.000000     | 0.753312     |\r\n| Well-written                | **0.764108** | **0.738221** | **0.753312** | 1.000000     |\r\n\r\n\r\nBut, the correlation is not perfect. So, though there is not a whole lot of new information in each dimension, there is some, and depending on the cost to the user to rate each dimension, it may still make sense to have separate categories.\r\n    \r\nThe means for each dimension do generally differ significantly, however, using a paired difference test. For example, here are the p-values from a Wilcoxon test comparing each dimension to each other dimension:\r\n\r\n> ###### _Table 2_\r\n\r\n> | Wilcoxon Signed-Rank Test       | Complete     | Objective    | Trustworthy  | Well-written |\r\n|-----------------------------------|--------------|--------------|--------------|--------------|\r\n|                          Complete | X            | 0.000        | 0.000        | 0.000        |\r\n|                         Objective | **0.000**    | X            | 0.000        | 0.153        |\r\n|                       Trustworthy | **0.000**    | **0.000**    | X            | 0.000        |\r\n|                      Well-written | **0.000**    | **0.153**    | **0.000**    | X            | \r\n\r\n> Figures reported are **p-values** from a Wilcoxon Signed-Rank test performed for each combination of rating dimensions.\r\n\r\nAll are significantly different with the exception of \"Objective\" and \"Well-Written\", which has a p-value of 0.153.\r\n\r\n#### 4. **How consistent are the ratings for a single page or version?**\r\n\r\nIf ratings are indeed useful measures of page quality, and if page quality is something that is consistent for various users of Wikipedia, then we would hope that ratings cluster around the mean. That is, we would want most people to tend to give ratings that are close to a certain average. The bimodality reflected in #2 above might indicate that this is not the case, however.\r\n    \r\nThere are many ways to measure the spread of data like this, but I will focus on the [_mean absolute deviation_ (MAD)](https://en.wikipedia.org/wiki/Absolute_deviation), which is simply the mean of the absolute value of the difference between each observation's value and the mean or median value. Given the fact that both the mean and median rating is quite high, and that rating values are truncated at 5, the distance from the point of central tendency (mean or median) can be higher for lower ratings. Thus it doesn't make as much sense to use the standard deviation, which weights bigger deviations more (since it's the square root of the mean _squared_ error). The MAD can be easily understood as the average difference between a particular rating and the mean/median for all ratings for that page/version.\r\n\r\n> ###### _Table 3_\r\n\r\n> | Distribution of MAD by Page                     | Count  | **Mean**  |  25%  |  50%  |  75%  |\r\n|---------------------------------------------------|--------|-----------|-------|-------|-------|\r\n| Abs. Dev. from Page Mean - Mean of All Dim.       | 49,712 | **0.956** | 0.395 | 0.820 | 1.333 |\r\n| Abs. Dev. from Page Median - Mean of All Dim.     | 49,712 | **0.905** | 0.250 | 0.625 | 1.250 |\r\n| Abs. Dev. from Page Mean - \"Complete\"             | 55,500 | **1.126** | 0.500 | 1.059 | 1.624 | \r\n| Abs. Dev. from Page Mean - \"Objective\"            | 53,265 | **1.103** | 0.500 | 1.000 | 1.500 | \r\n| Abs. Dev. from Page Mean - \"Trustworthy\"          | 56,986 | **1.117** | 0.500 | 0.981 | 1.509 | \r\n| Abs. Dev. from Page Mean - \"Well-Written\"         | 60,508 | **1.040** | 0.500 | 0.893 | 1.418 |\r\n\r\n> Only pages with at least 2 ratings were included for this table. The computation for the above table is as follows: 1) Compute the mean/median rating for all observations for a given page; 2) for each observation, calculate the absolute value of the difference between that observation's rating for the particular dimension (or the mean of all dimensions). Thus, the `Mean` column constitutes the MAD for the given dimension. Note that for the first two rows, labeled `Mean of All Dim.`, all observations with less than all 4 dimensions rated are excluded; for the remaining rows, all non-missing ratings for that dimension are included, regardless of whether other dimensions were also rated in that observation.\r\n  \r\n> ----------------\r\n> ###### _Table 4_\r\n\r\n> | Distribution of MAD by Version                     | Count | **Mean**  |  25%  |  50%  |  75%  |\r\n|------------------------------------------------------|-------|-----------|-------|-------|-------|\r\n| Abs. Dev. from Version Mean - Mean of All Dim.       | 34515 | **0.817** | 0.275 | 0.649 | 1.200 |\r\n| Abs. Dev. from Version Median - Mean of All Dim.     | 34515 | **0.758** | 0.125 | 0.500 | 1.125 |\r\n| Abs. Dev. from Version Mean - \"Complete\"             | 37403 | **0.960** | 0.400 | 0.826 | 1.500 | \r\n| Abs. Dev. from Version Mean - \"Objective\"            | 36317 | **0.933** | 0.333 | 0.750 | 1.400 | \r\n| Abs. Dev. from Version Mean - \"Trustworthy\"          | 38216 | **0.958** | 0.333 | 0.800 | 1.484 | \r\n| Abs. Dev. from Version Mean - \"Well-Written\"         | 39920 | **0.902** | 0.333 | 0.722 | 1.333 |\r\n\r\n> Only versions with at least 2 ratings were included for this table. See also note to Table 3 above.\r\n\r\nEven though the sample only covers a year, it is of course possible that pages would differ significantly between ratings. However, when looking at _versions_ of pages, we see MADs that are smaller, but still relatively large in magnitude. To put this in perspective, consider a version of an article that has only 2 ratings; Table 4 indicates that the average of all 4 rating dimensions for those two ratings would tend to be about 1.6 points apart on a 1-5 scale, meaning that if one rating was a 5 (very high), on average the other rating would be a 3.4 (very mediocre, given the fact that most ratings are, in fact, 4s or 5s).\r\n\r\nTo further illustrate this, here are plots of the distributions of the _non-absolute_ differences between each observation and the average for that version:\r\n\r\n> ###### _Figure 4_\r\n\r\n> ![Chart of distribution of deviation from version average][diff version avg 2]\r\n\r\n> ###### _Figure 5_\r\n\r\n> ![Chart of distribution of deviation from version average][diff version avg 4]\r\n\r\n> ###### _Figure 6_\r\n\r\n> ![Chart of distribution of deviation from version average][diff version avg 6]\r\n\r\n> <small>The cutoffs of 2, 4, and 6 were chosen because they represent 100%, 25%, and 10%, respectively, of the sample of versions with at least 2 ratings</small>.\r\n\r\nThough there initially appears to be just a rightward skew to the distributions, as we get more ratings per version, the familiar bimodal pattern begins to show up again. Furthermore, the bimodality becomes much more pronounced when looking at versions with even higher numbers of ratings, and it is also more pronounced when looking at pages, rather than versions of pages (no doubt in part because pages tend to have higher numbers of ratings per page, and thus there is more information).\r\n  \r\nOn the one hand, the fact that this bimodality is more clear with a higher `N` (i.e. more ratings per version) could indicate that we simply have more information and thus have clearer picture of what could be a fundamental, bimodal pattern. However, it could also mean that pages with many ratings are in some way different; for example, pages with higher ratings could be more *controversial*, leading some to simply give low ratings because they disagree with the *content of the page itself*, rather than judging the completeness, trustworthiness, objectivity, or quality of writing.\r\n\r\n#### 5. Do different kinds of users rate pages differently?\r\n\r\nIn the dataset, the only information we have about the user rating the page is whether they are logged in or not. Still, given that most users are not logged in, being logged in could indicate that the user is more aware of the standards of Wikipedia, and thus is a better judge of article quality. It could also be that logged-in users are more invested in the quality of Wikipedia and thus will put more effort into providing a full and accurate rating. Still another option is that logged-in users are more likely to have edited the pages themselves, and thus may be either rating their own work or giving a low rating before deciding to edit the page.\r\n\r\n> ###### _Figure 7_\r\n\r\n> ![Chart of distribution of ratings based on logged-in status][logged in rating dist]\r\n\r\nHere it appears that **logged-in users are less likely to give low ratings**. When I look at the MAD for logged-in vs. not logged-in users, the logged-in users have MADs that are significantly (p-value < 0.001) lower than users who are not logged in, meaning that not only are logged-in users less likely to give low ratings, but they tend to give ratings that are closer to ratings for other logged-in users.\r\n\r\n#### 5. Do pages increase in quality over time?\r\n\r\nIn my [exploratory analysis][exploring notebook], I look at the rating history for the most frequently edited and rated pages, trying to find a pattern of improving quality over time. Here, for example, are plots of the history for three pages that have many versions and high numbers of ratings per version:\r\n\r\n> ###### _Figure 8_\r\n\r\n> ![Chart of page rating history: \"Arithmetic Progression\"][page hist 1]\r\n\r\n> ###### _Figure 9_\r\n\r\n> ![Chart of page rating history: \"List of spells in Harry Potter\"][page hist 2]\r\n\r\n> ###### _Figure 10_\r\n\r\n> ![Chart of page rating history: \"United States Declaration of Independence\"][page hist 3]\r\n\r\n> The boxplot for each page shows the distribution of `rating_all_mean` (i.e. the mean rating when all 4 dimensions are recorded) for each version of the page in our dataset, indexed by version number (rather than, say, date the version was made). The blue line and circles trace the mean, while the red lines are the median.\r\n\r\nThere certainly does not appear to be a broad upward trend. Indeed, when I look at correlations for all pages in the data set, **there is almost no correlation between version number and rating value**:\r\n\r\n> ###### _Table 5_\r\n\r\n> | Correlation | Mean Rating, Any Dimensions | Mean Rating, All Dimensions | \"Complete\" | \"Objective\" | \"Trustworthy\" | \"Well-Written\" |\r\n|-------------|--------------|-----------|-----------|-----------|-----------|----------|\r\n| nth_version | 0.063059\t | 0.063983\t | 0.096140\t | 0.035822\t | 0.051972\t | 0.049783 |\r\n\r\nIt is possible that, if I can combine versions that, due to the edits being very minor, are essentially the same, that a different trend could emerge. But as of now, there is not much evidence that pages get better over time when quality is measured by user ratings.\r\n\r\n**Next Steps**\r\n-----------------\r\n\r\nI am currently working on merging in data about the actual edits (and other data) from the MediaWiki API. Once I do that, I'll be able to see if certain kinds of edits affect ratings in different ways. For example:\r\n\r\n- Do edits that change a bigger portion of the page have a bigger effect on ratings?\r\n- Do minor edits have a different effect on ratings?\r\n- Do edits by logged-in users have a more positive effect on ratings?\r\n- Does adding links increase the rating for trustworthiness or objectivity?\r\n- How are ratings correlated to length of the page? To number of links? To amount of data attached to infoboxes?\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n[cleaning notebook]: path/to/notebook/tk\r\n[exploring notebook]: path/to/notebook/tk\r\n[ratings per page chart]: summary/ratings_per_page_chart.png \"Distribution of Ratings per Page\"\r\n[rating values chart]: summary/dist_of_ratings_and_dims.png \"Distribution of Rating Values and Dimensions Rated\"\r\n[rating dimension values chart]: summary/dist_of_each_dimension.png \"Distribution of Each Rating Dimension\"\r\n[diff version avg 2]: summary/dev_from_version_avg_2.png \"Distribution of Deviation from Version Average - 2+ ratings\"\r\n[diff version avg 4]: summary/dev_from_version_avg_4.png \"Distribution of Deviation from Version Average - 4+ ratings\"\r\n[diff version avg 6]: summary/dev_from_version_avg_6.png \"Distribution of Deviation from Version Average - 6+ ratings\"\r\n[logged in rating dist]: summary/logged_in_rating_dist.png \"Distribution of Ratings based on Logged-In Status\"\r\n[page rate hist 1]: summary/page_rate_hist1.png \"Chart of page rating history: Arithmetic Progression\"\r\n[page rate hist 2]: summary/page_rate_hist2.png \"Chart of page rating history: List of spells in Harry Potter\"\r\n[page rate hist 3]: summary/page_rate_hist3.png \"Chart of page rating history: United States Declaration of Independence\"\r\n\r\n\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}